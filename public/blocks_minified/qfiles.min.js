Bengine.extensibles.files=new function(){this.type="files",this.name="files",this.category="quiz",this.upload=!1,this.accept=null;var t=this;_private={},_private.getFiles=function(e,n,i){let l=n.replace(/ /g,"").replace(/\n$/,""),a=[];l.length>0&&(a=l.split(/\n|,/g));let o={fpath:t.d.getPagePath(),files:a,namespace:e};t.p.sendData("/files",o).then(function(n){Object.keys(n.data.files).length>0&&(t.d.variables[e]=n.data.files,t.p.alerts.log("complete","success")),i&&(i.done=!0)},function(e){t.p.alerts.alert(e.msg),i&&(i.done=!0)})},this.destroy=function(){},this.fetchDependencies=function(){return null},this.insertContent=function(e,n){var i=document.createElement("input");i.setAttribute("type","text"),i.setAttribute("class","bengine-x-ns-cond col col-50"),i.setAttribute("placeholder","Enter The Namespace For This Files Block.");var l=document.createElement("input");l.setAttribute("type","text"),l.setAttribute("class","bengine-x-ns-cond col col-50"),l.setAttribute("placeholder","Block Conditional (optional)");var a=document.createElement("textarea");return a.setAttribute("class","xFiles"),a.setAttribute("placeholder","Comma or newline separated files to retrieve."),t.p.emptyObject(n)||(a.value=n.content,i.value=n.namespace,l.value=n.conditional),e.appendChild(i),e.appendChild(l),e.appendChild(a),e},this.afterDOMinsert=function(t,e){_private.getFiles(document.getElementById(t).childNodes[0].value,document.getElementById(t).childNodes[2].value,null)},this.runBlock=function(t){_private.getFiles(document.getElementById(t).childNodes[0].value,document.getElementById(t).childNodes[2].value,null)},this.runData=function(e,n,i){t.p.checkConditional(e)?_private.getFiles(e.namespace,e.content,i):i.done=!0},this.saveContent=function(t){var e=document.getElementById(t).children[0].value.trim(),n=document.getElementById(t).children[1].value.trim();return{content:document.getElementById(t).children[2].value,namespace:e,conditional:n}},this.showContent=function(t,e){return t},this.styleBlock=function(){return".xFiles {\n\t\t\tmax-width: 100%;\n\t\t\tmargin: 0px auto 0 auto;\n\t\t\twidth: 100%;\n\t    \theight: 100px;\n\t    \tborder: 1px solid black;\n\t    \tborder-radius: 2px;\n\t    \tbackground-color: white;\n\t\n\t    \tpadding: 8px;\n\t    \tmargin: 0px;\n\t    \tbox-sizing: border-box;\n\t\n\t    \tfont-family: Arial, Helvetica, sans-serif;\n\t    \tfont-size: 1em;\n\t    \tfont-weight: 300;\n\t    \tcolor: black;\n\t\t}"}};